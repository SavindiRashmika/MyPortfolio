<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Knight-rider</title>
    <link rel="stylesheet" href="../asets/css/bootstrap.css">
    <style>
        body{
            background-color: #000000;
        }
        .color-div,.button{
            height: 50px;
            display: flex;
            justify-content: center;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }
        .color-div div{
            width: 200px;
            height: 50px;
            border: 1px solid #000000;
        }
        .button{
            top: 250px;
        }
        .button button{
            width: 100px;
            height: 40px;
            border-radius: 10px;
            margin: 10px;
            text-align: center;
            border: 1px solid #000000;
            color: #ffffff;
        }
        #btnStart{
            background-color: #0a58ca;
        }
        #btnStop{
            background-color: #C0392B;
        }
        h1 , .header>div{
            text-align: center;
            color: #f2e7c3;
        }
        .header>div{
            color: #a52834;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
<h1>KNIGHT RIDER</h1>
<section class="header">
    <div>
        Speed :
        <h1 id="rSpeed"></h1>
    </div>
    <div>
        Waiting Time :
        <h1></h1>
    </div>
</section>
<section class="color-div">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
</section>
<section class="button">
    <audio src="../asets/Knight-Rider.mp3" id="myAudio"></audio>
    <button  id="btnStart">Start</button>
    <button id="btnStop">Stop</button>
    <div>
        <label for="customRange1" class="form-label"></label>
        <input type="range" class="form-range" id="customRange1">
    </div>
</section>


<script>
    var divs = document.querySelectorAll(".color-div div");
    var startBtn =document.getElementById("btnStart");
    var stopBtn =document.getElementById("btnStop");
    var rangeBtn = document.getElementById("customRange1");
    var h1 = document.querySelector("rSpeed");

    var colorCode;
    var lightNumber = 0;
    var direction= 'RIGHT';

    // function myFunction() {
    //     // let x = document.getElementById("myRange").value;
    //     // document.getElementById("demo").innerHTML = x;
    //
    //     h1.innerText = rangeBtn.value;
    // }

    function colorPrograss(){
        divs[lightNumber].style.background='#EC7063';

        if (lightNumber > 0){
             divs[lightNumber-1].style.background='#FADBD8';
        }

        if (lightNumber < 5){
            divs[lightNumber+1].style.background='#FDEDEC';
        }

        if (lightNumber === 5){
            direction = 'LEFT';
        }

        if (direction === 'RIGHT'){
            lightNumber++;
        }else {
            lightNumber--;
        }

        if (lightNumber === 0){
            direction = 'RIGHT';
        }
    }

    // function time(){
    //     if(){
    //
    //     }
    // }
    rangeBtn.addEventListener("click",function (){
        h1.innerText = rangeBtn.value;
    });

    startBtn.addEventListener("click",function(){
            document.getElementById("myAudio").play();
            colorCode =  setInterval(colorPrograss,100);
        }
    );
    stopBtn.addEventListener("click",function(){
            document.getElementById("myAudio").pause();
            clearInterval(colorCode);
        }
    );

</script>
</body>
</html>